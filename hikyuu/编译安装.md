## HIKYUU编译安装


### 环境准备
```shell
conda create -n hikyuu_dev python=3.10

# 因为墙的问题的，手动下载包
通过百度网盘分享的文件：hikyuu_deps
链接：https://pan.baidu.com/s/1ogXt-gt8Jz0-4Oq-BJVG9g?pwd=gi89 
提取码：gi89
```

### 安装依赖
```shell
conda create -n hikyuu python=3.10
conda activate hikyuu

python3 -m pip install hikyuu==2.6.3
```

### 编译和安装
```shell
git clone https://github.com/Ted88368/hikyuu.git --recursive

# 安装xmake
curl -fsSL https://xmake.io/shget.text | bash


sudo apt -y install libmysqlclient-dev
sudo apt-get install libhdf5-dev

conda activate hikyuu_dev

# 上面网盘下载的安装包
xmake g --pkg_searchdirs=/home/huzhe/wk/github/deps
pip install click
python setup.py build

# python setup.py help – 查看帮助
# python setup.py build – 执行编译
# python setup.py install – 编译并执行安装（安装到 python 的 site-packages 目录下）
# python setup.py uninstall – 删除已安装的Hikyuu
# python setup.py test – 执行单元测试（可带参数 –compile=1，先执行编译）
# python setup.py clear – 清除本地编译结果
# python setup.py wheel – 生成wheel安装包

# 安装方法一
pip install -r requirements.txt
python setup.py install 

# 安装方法二

python setup.py wheel – 生成wheel安装包
pip install dist/*.whl

```
#### 运行
```shell
# 由于 importdata 命令使用的是 HikyuuTDX 生成的配置文件，所以在第一次执行 importdata 之前需要至少运行过一次 HikyuuTDX。
# WSL2没有配置图像界面可能有问题,可以拷贝配置自己修改
HikyuuTDX

# 先运行 HikyuuTDX，生成importdata-gui.ini，否则下面会报错  No section: 'hdf5'
importdata

```

### 参考资料
+ [《HIKYUU C++ 开发者指南》](https://hikyuu.readthedocs.io/zh-cn/latest/developer.html#developer)