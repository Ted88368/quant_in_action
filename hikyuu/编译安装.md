## HIKYUU编译安装


### 环境准备
```shell
conda create -n hikyuu_dev python=3.9


# 因为墙的问题的，手动下载包
https://github.com/fmtlib/fmt/releases/download/10.0.0/fmt-10.0.0.zip
https://github.com/Kitware/CMake/releases/download/v3.26.4/cmake-3.26.4-linux-x86_64.tar.gz
https://github.com/nlohmann/json/archive/v3.11.2.tar.gz
https://cmake.org/files/v3.26/cmake-3.26.4-linux-x86_64.tar.gz
https://www.python.org/ftp/python/3.9.13/Python-3.9.13.tgz

sudo apt-get -y install libboost-all-dev
https://github.com/xmake-mirror/boost/releases/download/boost-1.81.0/boost_1_81_0.tar.bz2

```

### 编译和安装
```shell
git clone https://github.com/Ted88368/hikyuu.git --recursive

# 安装xmake
curl -fsSL https://xmake.io/shget.text | bash

xmake -g --pkg_searchdirs=/mnt/f/huzhe/github/deps
xmake -g --pkg_searchdirs="D://github//deps"

# 或者 conda activate hikyuu_dev
pyenv activate hikyuu_dev # pyenv设置的Python 3.10.13


python setup.py help – 查看帮助
python setup.py build – 执行编译
python setup.py install – 编译并执行安装（安装到 python 的 site-packages 目录下）
python setup.py uninstall – 删除已安装的Hikyuu
python setup.py test – 执行单元测试（可带参数 –compile=1，先执行编译）
python setup.py clear – 清除本地编译结果
python setup.py wheel – 生成wheel安装包
```
#### 运行
```shell
# 由于 importdata 命令使用的是 HikyuuTDX 生成的配置文件，所以在第一次执行 importdata 之前需要至少运行过一次 HikyuuTDX。
# WSL2没有配置图像界面可能有问题
HikyuuTDX

# 先运行 HikyuuTDX，生成importdata-gui.ini，否则下面会报错  No section: 'hdf5'
importdata

```

### 参考资料
+ [《HIKYUU C++ 开发者指南》](https://hikyuu.readthedocs.io/zh-cn/latest/developer.html#developer)